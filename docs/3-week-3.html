<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Week 3 | STA 141 - Exploratory Data Analysis and Visualization</title>
  <meta name="description" content="Chapter 3 Week 3 | STA 141 - Exploratory Data Analysis and Visualization" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Week 3 | STA 141 - Exploratory Data Analysis and Visualization" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="dereksonderegger/141" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Week 3 | STA 141 - Exploratory Data Analysis and Visualization" />
  
  
  

<meta name="author" content="Derek L. Sonderegger" />


<meta name="date" content="2019-09-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="2-week-2.html">
<link rel="next" href="4-week-4.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<br> &nbsp;&nbsp; Exploratory Visual Data Analysis <br><br>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="1-week-1.html"><a href="1-week-1.html"><i class="fa fa-check"></i><b>1</b> Week 1</a><ul>
<li class="chapter" data-level="1.1" data-path="1-week-1.html"><a href="1-week-1.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1.1" data-path="1-week-1.html"><a href="1-week-1.html#initial-thoughts."><i class="fa fa-check"></i><b>1.1.1</b> Initial thoughts.</a></li>
<li class="chapter" data-level="1.1.2" data-path="1-week-1.html"><a href="1-week-1.html#amazing-graphics"><i class="fa fa-check"></i><b>1.1.2</b> Amazing Graphics</a></li>
<li class="chapter" data-level="1.1.3" data-path="1-week-1.html"><a href="1-week-1.html#bad-graphs"><i class="fa fa-check"></i><b>1.1.3</b> Bad Graphs</a></li>
<li class="chapter" data-level="1.1.4" data-path="1-week-1.html"><a href="1-week-1.html#tableau-or"><i class="fa fa-check"></i><b>1.1.4</b> Tableau or ???</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="1-week-1.html"><a href="1-week-1.html#epts-and-gestalt"><i class="fa fa-check"></i><b>1.2</b> EPTs and Gestalt</a><ul>
<li class="chapter" data-level="1.2.1" data-path="1-week-1.html"><a href="1-week-1.html#groupings-gestalt"><i class="fa fa-check"></i><b>1.2.1</b> Groupings / Gestalt</a></li>
<li class="chapter" data-level="1.2.2" data-path="1-week-1.html"><a href="1-week-1.html#color-scales"><i class="fa fa-check"></i><b>1.2.2</b> “Color” Scales</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="1-week-1.html"><a href="1-week-1.html#practicum-1"><i class="fa fa-check"></i><b>1.3</b> Practicum #1</a><ul>
<li class="chapter" data-level="1.3.1" data-path="1-week-1.html"><a href="1-week-1.html#how-to-store-data"><i class="fa fa-check"></i><b>1.3.1</b> How to Store Data</a></li>
<li class="chapter" data-level="1.3.2" data-path="1-week-1.html"><a href="1-week-1.html#tableau"><i class="fa fa-check"></i><b>1.3.2</b> Tableau</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-week-2.html"><a href="2-week-2.html"><i class="fa fa-check"></i><b>2</b> Week 2</a><ul>
<li class="chapter" data-level="" data-path="2-week-2.html"><a href="2-week-2.html#assignments"><i class="fa fa-check"></i>Assignments</a></li>
<li class="chapter" data-level="2.1" data-path="2-week-2.html"><a href="2-week-2.html#amounts"><i class="fa fa-check"></i><b>2.1</b> Amounts</a></li>
<li class="chapter" data-level="2.2" data-path="2-week-2.html"><a href="2-week-2.html#distributions"><i class="fa fa-check"></i><b>2.2</b> Distributions</a><ul>
<li class="chapter" data-level="2.2.1" data-path="2-week-2.html"><a href="2-week-2.html#small-samples"><i class="fa fa-check"></i><b>2.2.1</b> Small samples</a></li>
<li class="chapter" data-level="2.2.2" data-path="2-week-2.html"><a href="2-week-2.html#histograms"><i class="fa fa-check"></i><b>2.2.2</b> Histograms</a></li>
<li class="chapter" data-level="2.2.3" data-path="2-week-2.html"><a href="2-week-2.html#density-plots"><i class="fa fa-check"></i><b>2.2.3</b> Density plots</a></li>
<li class="chapter" data-level="2.2.4" data-path="2-week-2.html"><a href="2-week-2.html#faceting"><i class="fa fa-check"></i><b>2.2.4</b> Faceting</a></li>
<li class="chapter" data-level="2.2.5" data-path="2-week-2.html"><a href="2-week-2.html#stacking"><i class="fa fa-check"></i><b>2.2.5</b> Stacking</a></li>
<li class="chapter" data-level="2.2.6" data-path="2-week-2.html"><a href="2-week-2.html#overlapping-curves"><i class="fa fa-check"></i><b>2.2.6</b> Overlapping curves</a></li>
<li class="chapter" data-level="2.2.7" data-path="2-week-2.html"><a href="2-week-2.html#boxplots"><i class="fa fa-check"></i><b>2.2.7</b> Boxplots</a></li>
<li class="chapter" data-level="2.2.8" data-path="2-week-2.html"><a href="2-week-2.html#violin-plots"><i class="fa fa-check"></i><b>2.2.8</b> Violin Plots</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-week-2.html"><a href="2-week-2.html#proportions"><i class="fa fa-check"></i><b>2.3</b> Proportions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-week-3.html"><a href="3-week-3.html"><i class="fa fa-check"></i><b>3</b> Week 3</a><ul>
<li class="chapter" data-level="3.1" data-path="3-week-3.html"><a href="3-week-3.html#proportions-1"><i class="fa fa-check"></i><b>3.1</b> Proportions</a><ul>
<li class="chapter" data-level="3.1.1" data-path="3-week-3.html"><a href="3-week-3.html#pie-charts"><i class="fa fa-check"></i><b>3.1.1</b> Pie Charts</a></li>
<li class="chapter" data-level="3.1.2" data-path="3-week-3.html"><a href="3-week-3.html#stacked-bar"><i class="fa fa-check"></i><b>3.1.2</b> Stacked Bar</a></li>
<li class="chapter" data-level="3.1.3" data-path="3-week-3.html"><a href="3-week-3.html#side-by-side-barchart"><i class="fa fa-check"></i><b>3.1.3</b> Side-by-side Barchart</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3-week-3.html"><a href="3-week-3.html#multiple-sets-of-proportions"><i class="fa fa-check"></i><b>3.2</b> Multiple Sets of Proportions</a><ul>
<li class="chapter" data-level="3.2.1" data-path="3-week-3.html"><a href="3-week-3.html#faceted-bar-charts"><i class="fa fa-check"></i><b>3.2.1</b> Faceted Bar charts</a></li>
<li class="chapter" data-level="3.2.2" data-path="3-week-3.html"><a href="3-week-3.html#side-by-side-stacked-barcharts"><i class="fa fa-check"></i><b>3.2.2</b> Side-by-Side Stacked Barcharts</a></li>
<li class="chapter" data-level="3.2.3" data-path="3-week-3.html"><a href="3-week-3.html#mosiac-plots"><i class="fa fa-check"></i><b>3.2.3</b> Mosiac plots</a></li>
<li class="chapter" data-level="3.2.4" data-path="3-week-3.html"><a href="3-week-3.html#alluvial-plots"><i class="fa fa-check"></i><b>3.2.4</b> Alluvial Plots</a></li>
<li class="chapter" data-level="3.2.5" data-path="3-week-3.html"><a href="3-week-3.html#tree-graphs"><i class="fa fa-check"></i><b>3.2.5</b> Tree graphs</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="3-week-3.html"><a href="3-week-3.html#exercises"><i class="fa fa-check"></i><b>3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-week-4.html"><a href="4-week-4.html"><i class="fa fa-check"></i><b>4</b> Week 4</a><ul>
<li class="chapter" data-level="4.1" data-path="4-week-4.html"><a href="4-week-4.html#visualizing-2-or-more-continuous-variables"><i class="fa fa-check"></i><b>4.1</b> Visualizing 2 or more Continuous variables</a><ul>
<li class="chapter" data-level="4.1.1" data-path="4-week-4.html"><a href="4-week-4.html#scatter-plots"><i class="fa fa-check"></i><b>4.1.1</b> Scatter plots</a></li>
<li class="chapter" data-level="4.1.2" data-path="4-week-4.html"><a href="4-week-4.html#pairs-plots-all-vs-all-scatterplots"><i class="fa fa-check"></i><b>4.1.2</b> Pairs plots (All-vs-all scatterplots)</a></li>
<li class="chapter" data-level="4.1.3" data-path="4-week-4.html"><a href="4-week-4.html#correlation-plots"><i class="fa fa-check"></i><b>4.1.3</b> Correlation Plots</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-week-4.html"><a href="4-week-4.html#pearsons-correlation-coefficient"><i class="fa fa-check"></i><b>4.2</b> Pearson’s Correlation Coefficient</a></li>
<li class="chapter" data-level="4.3" data-path="4-week-4.html"><a href="4-week-4.html#overplotting"><i class="fa fa-check"></i><b>4.3</b> Overplotting</a><ul>
<li class="chapter" data-level="4.3.1" data-path="4-week-4.html"><a href="4-week-4.html#transparency"><i class="fa fa-check"></i><b>4.3.1</b> Transparency</a></li>
<li class="chapter" data-level="4.3.2" data-path="4-week-4.html"><a href="4-week-4.html#intensity-maps"><i class="fa fa-check"></i><b>4.3.2</b> Intensity Maps</a></li>
<li class="chapter" data-level="4.3.3" data-path="4-week-4.html"><a href="4-week-4.html#contour-plots"><i class="fa fa-check"></i><b>4.3.3</b> Contour Plots</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">STA 141 - Exploratory Data Analysis and Visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="week-3" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Week 3</h1>
<div id="proportions-1" class="section level2">
<h2><span class="header-section-number">3.1</span> Proportions</h2>
<p>Conceptually graphing proportions is the same as graph raw values, but sum to 100%. This seemingly small difference means that our graphic can imply that our categories contain ALL possible categories.</p>
<div id="pie-charts" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Pie Charts</h3>
<p><img src="03_Week_03_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>As typical, with a just a few categories, we should move the labels onto the graph and just annotate the graph. Also, we’ll order the categories from the most temperary employees (instructors) to most permanent (professors)
<img src="03_Week_03_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="stacked-bar" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Stacked Bar</h3>
<p><img src="03_Week_03_files/figure-html/unnamed-chunk-4-1.png" width="672" /><img src="03_Week_03_files/figure-html/unnamed-chunk-4-2.png" width="672" /></p>
</div>
<div id="side-by-side-barchart" class="section level3">
<h3><span class="header-section-number">3.1.3</span> Side-by-side Barchart</h3>
<p><img src="03_Week_03_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">Pie chart</th>
<th align="center">Stacked bars</th>
<th align="center">Side-by-side bars</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Clear that data is proportions of a whole</td>
<td align="center"><strong>Yes</strong></td>
<td align="center"><strong>Yes</strong></td>
<td align="center"><em>no</em></td>
</tr>
<tr class="even">
<td align="left">Precise visual comparison of values</td>
<td align="center"><em>no</em></td>
<td align="center"><em>no</em></td>
<td align="center"><strong>Yes</strong></td>
</tr>
<tr class="odd">
<td align="left">Visually appealing even in simple comparisons</td>
<td align="center"><strong>Yes</strong></td>
<td align="center"><em>no</em></td>
<td align="center"><strong>Yes</strong></td>
</tr>
<tr class="even">
<td align="left">Extendable to nested or multiple distributions or time series</td>
<td align="center"><em>no</em></td>
<td align="center"><strong>Yes</strong></td>
<td align="center"><em>no</em></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="multiple-sets-of-proportions" class="section level2">
<h2><span class="header-section-number">3.2</span> Multiple Sets of Proportions</h2>
<div id="faceted-bar-charts" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Faceted Bar charts</h3>
<p><img src="03_Week_03_files/figure-html/unnamed-chunk-6-1.png" width="768" /></p>
<p><img src="03_Week_03_files/figure-html/unnamed-chunk-7-1.png" width="672" />
<img src="03_Week_03_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
<div id="side-by-side-stacked-barcharts" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Side-by-Side Stacked Barcharts</h3>
<p><img src="03_Week_03_files/figure-html/unnamed-chunk-9-1.png" width="768" /></p>
</div>
<div id="mosiac-plots" class="section level3">
<h3><span class="header-section-number">3.2.3</span> Mosiac plots</h3>
<p>Sort like side-by-side stacked bar charts, but now we allow the column width to vary as well. The area is proportional the groups representation in the whole data. This reduces the number of really thin bands because we can make the column narrower as well.
<img src="03_Week_03_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p><img src="03_Week_03_files/figure-html/unnamed-chunk-11-1.png" width="768" /></p>
</div>
<div id="alluvial-plots" class="section level3">
<h3><span class="header-section-number">3.2.4</span> Alluvial Plots</h3>
<p>If we want to compare multiple categorical variables, another option is alluvial plots.
<img src="03_Week_03_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>I find that alluvial plots work better for events that have a definate chronological order and there is less stream overlaps.. Here is an example from a <a href="https://www.washingtonpost.com/news/soloish/wp/2018/03/12/these-redditors-made-graphics-to-visualize-their-dating-lives-heres-what-they-can-teach-us/">Washington Post story</a> about people graphing their online dating interactions.</p>
<div class="figure">
<img src="Resources/Graphs/Alluvial_Plots/OnlineDatingViaWashingtonPost.jpg" alt="These are the results of 6.5 weeks of online dating by a 37 year old woman." />
<p class="caption">These are the results of 6.5 weeks of online dating by a 37 year old woman.</p>
</div>
</div>
<div id="tree-graphs" class="section level3">
<h3><span class="header-section-number">3.2.5</span> Tree graphs</h3>
<p>In mosaic plots, we had <em>crossed</em> variables where every category level of one factor could show up with all levels of another factor.</p>
<table style="width:42%;">
<caption>Crossed Factors Suitable for a Mosaic Plot.</caption>
<colgroup>
<col width="15%" />
<col width="15%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Factor.1</th>
<th align="center">Factor.2</th>
<th align="center">value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">A</td>
<td align="center">w</td>
<td align="center">4</td>
</tr>
<tr class="even">
<td align="center">A</td>
<td align="center">x</td>
<td align="center">6</td>
</tr>
<tr class="odd">
<td align="center">B</td>
<td align="center">w</td>
<td align="center">15</td>
</tr>
<tr class="even">
<td align="center">B</td>
<td align="center">x</td>
<td align="center">25</td>
</tr>
</tbody>
</table>
<p>Another possibility is that the variables are nested such that a category level of the second factor only ever occurs within a single level of the first factor.</p>
<table style="width:42%;">
<caption>Nested Factors Suitable for a Tree Map.</caption>
<colgroup>
<col width="15%" />
<col width="15%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Factor.1</th>
<th align="center">Factor.2</th>
<th align="center">value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">A</td>
<td align="center">w</td>
<td align="center">4</td>
</tr>
<tr class="even">
<td align="center">A</td>
<td align="center">x</td>
<td align="center">6</td>
</tr>
<tr class="odd">
<td align="center">B</td>
<td align="center">y</td>
<td align="center">15</td>
</tr>
<tr class="even">
<td align="center">B</td>
<td align="center">z</td>
<td align="center">25</td>
</tr>
</tbody>
</table>
<p>When we have a hierarchical structure of categories, then mosaic plots aren’t quite right. Instead we’ll hierarchically subdivide the graph area up.
<img src="03_Week_03_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>The graph first separates the graph into continents and scales the area of each continent by the population of the continent. Then each continent is split into the countries that compose the continent, again with area representing population. Finally the countries are color-coded by their 2007 life expectancy.</p>
<p>This differs from a moasic plot in that a country only occurs withing one continent whereas in a mosaic plot, a category level will occur in multiple “containers”.</p>
</div>
</div>
<div id="exercises" class="section level2">
<h2><span class="header-section-number">3.3</span> Exercises</h2>
<ol style="list-style-type: decimal">
<li>Alluvial plots are a particular type of <em>Sankey</em> graphs which show flow rates and amounts and have been around for quite some time. In 1869, Charles Minard created a graphic that details the size of Napaleon’s army as they marched on Russia and subsequently returned. You can find the <a href="https://en.wikipedia.org/wiki/Charles_Joseph_Minard">original</a> or the <a href="https://en.wikipedia.org/wiki/Charles_Joseph_Minard#/media/File:Minard_Update.png">modern English translation</a> on Wikipedia.
<ol style="list-style-type: lower-alpha">
<li>How many men did the army start marching with?</li>
<li>How many men arrived in Moscow?</li>
<li>How many men died crossing the Berezina River on the return trip? (approximately from the map information provided)</li>
<li>How cold was it when they cross the Berezina River on the retern trip?</li>
</ol></li>
<li><p>Read Chapter 10 and 11 in Claus Wilke’s Fundamentals of Data Visualiztion <a href="https://serialmentor.com/dataviz/">book</a>. In chapter 10 he presents several different graphics that visualize the bridge construction era, bridge material, and which river they cross for bridges near Pittsburgh, Pennsylvania. Discuss three of them and explain which graph you prefer and why.</p></li>
<li>Download data about the <a href="https://raw.githubusercontent.com/dereksonderegger/141/master/data-raw/Titanic.csv">Titanic</a> disaster at the GitHub site for this class. Save the file as a Titanic.csv and open it in Tableau.
<ol style="list-style-type: lower-alpha">
<li>In Tableau, a faceted stacked barchart just as we did in these notes.</li>
<li>In a new worksheet, copy your faceted stacked barchart and then turn it into faceted pie charts.</li>
<li>Comment on which you prefer and why.</li>
<li>Finally create a mosaic plot of the Titatic dataset.</li>
</ol></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="2-week-2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="4-week-4.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dereksonderegger/141/raw/master/03_Week_03.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
