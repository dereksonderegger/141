<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 Week 9 | STA 141 - Exploratory Data Analysis and Visualization</title>
  <meta name="description" content="Chapter 9 Week 9 | STA 141 - Exploratory Data Analysis and Visualization" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 Week 9 | STA 141 - Exploratory Data Analysis and Visualization" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="dereksonderegger/141" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 Week 9 | STA 141 - Exploratory Data Analysis and Visualization" />
  
  
  

<meta name="author" content="Derek L. Sonderegger" />


<meta name="date" content="2019-11-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="8-week-8.html"/>
<link rel="next" href="10-week-10.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<br> &nbsp;&nbsp; Exploratory Visual Data Analysis <br><br>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#instructional-material"><i class="fa fa-check"></i><b>0.1</b> Instructional Material</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#data-sources"><i class="fa fa-check"></i><b>0.2</b> Data Sources</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="1-week-1.html"><a href="1-week-1.html"><i class="fa fa-check"></i><b>1</b> Week 1</a><ul>
<li class="chapter" data-level="1.1" data-path="1-week-1.html"><a href="1-week-1.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1.1" data-path="1-week-1.html"><a href="1-week-1.html#initial-thoughts."><i class="fa fa-check"></i><b>1.1.1</b> Initial thoughts.</a></li>
<li class="chapter" data-level="1.1.2" data-path="1-week-1.html"><a href="1-week-1.html#amazing-graphics"><i class="fa fa-check"></i><b>1.1.2</b> Amazing Graphics</a></li>
<li class="chapter" data-level="1.1.3" data-path="1-week-1.html"><a href="1-week-1.html#bad-graphs"><i class="fa fa-check"></i><b>1.1.3</b> Bad Graphs</a></li>
<li class="chapter" data-level="1.1.4" data-path="1-week-1.html"><a href="1-week-1.html#tableau-or"><i class="fa fa-check"></i><b>1.1.4</b> Tableau or ???</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="1-week-1.html"><a href="1-week-1.html#epts-and-gestalt"><i class="fa fa-check"></i><b>1.2</b> EPTs and Gestalt</a><ul>
<li class="chapter" data-level="1.2.1" data-path="1-week-1.html"><a href="1-week-1.html#groupings-gestalt"><i class="fa fa-check"></i><b>1.2.1</b> Groupings / Gestalt</a></li>
<li class="chapter" data-level="1.2.2" data-path="1-week-1.html"><a href="1-week-1.html#color-scales"><i class="fa fa-check"></i><b>1.2.2</b> “Color” Scales</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="1-week-1.html"><a href="1-week-1.html#practicum-1"><i class="fa fa-check"></i><b>1.3</b> Practicum #1</a><ul>
<li class="chapter" data-level="1.3.1" data-path="1-week-1.html"><a href="1-week-1.html#how-to-store-data"><i class="fa fa-check"></i><b>1.3.1</b> How to Store Data</a></li>
<li class="chapter" data-level="1.3.2" data-path="1-week-1.html"><a href="1-week-1.html#tableau"><i class="fa fa-check"></i><b>1.3.2</b> Tableau</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-week-2.html"><a href="2-week-2.html"><i class="fa fa-check"></i><b>2</b> Week 2</a><ul>
<li class="chapter" data-level="" data-path="2-week-2.html"><a href="2-week-2.html#assignments"><i class="fa fa-check"></i>Assignments</a></li>
<li class="chapter" data-level="2.1" data-path="2-week-2.html"><a href="2-week-2.html#amounts"><i class="fa fa-check"></i><b>2.1</b> Amounts</a></li>
<li class="chapter" data-level="2.2" data-path="2-week-2.html"><a href="2-week-2.html#distributions"><i class="fa fa-check"></i><b>2.2</b> Distributions</a><ul>
<li class="chapter" data-level="2.2.1" data-path="2-week-2.html"><a href="2-week-2.html#small-samples"><i class="fa fa-check"></i><b>2.2.1</b> Small samples</a></li>
<li class="chapter" data-level="2.2.2" data-path="2-week-2.html"><a href="2-week-2.html#histograms"><i class="fa fa-check"></i><b>2.2.2</b> Histograms</a></li>
<li class="chapter" data-level="2.2.3" data-path="2-week-2.html"><a href="2-week-2.html#density-plots"><i class="fa fa-check"></i><b>2.2.3</b> Density plots</a></li>
<li class="chapter" data-level="2.2.4" data-path="2-week-2.html"><a href="2-week-2.html#faceting"><i class="fa fa-check"></i><b>2.2.4</b> Faceting</a></li>
<li class="chapter" data-level="2.2.5" data-path="2-week-2.html"><a href="2-week-2.html#stacking"><i class="fa fa-check"></i><b>2.2.5</b> Stacking</a></li>
<li class="chapter" data-level="2.2.6" data-path="2-week-2.html"><a href="2-week-2.html#overlapping-curves"><i class="fa fa-check"></i><b>2.2.6</b> Overlapping curves</a></li>
<li class="chapter" data-level="2.2.7" data-path="2-week-2.html"><a href="2-week-2.html#boxplots"><i class="fa fa-check"></i><b>2.2.7</b> Boxplots</a></li>
<li class="chapter" data-level="2.2.8" data-path="2-week-2.html"><a href="2-week-2.html#violin-plots"><i class="fa fa-check"></i><b>2.2.8</b> Violin Plots</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-week-2.html"><a href="2-week-2.html#proportions"><i class="fa fa-check"></i><b>2.3</b> Proportions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-week-3.html"><a href="3-week-3.html"><i class="fa fa-check"></i><b>3</b> Week 3</a><ul>
<li class="chapter" data-level="3.1" data-path="3-week-3.html"><a href="3-week-3.html#proportions-1"><i class="fa fa-check"></i><b>3.1</b> Proportions</a><ul>
<li class="chapter" data-level="3.1.1" data-path="3-week-3.html"><a href="3-week-3.html#pie-charts"><i class="fa fa-check"></i><b>3.1.1</b> Pie Charts</a></li>
<li class="chapter" data-level="3.1.2" data-path="3-week-3.html"><a href="3-week-3.html#stacked-bar"><i class="fa fa-check"></i><b>3.1.2</b> Stacked Bar</a></li>
<li class="chapter" data-level="3.1.3" data-path="3-week-3.html"><a href="3-week-3.html#side-by-side-barchart"><i class="fa fa-check"></i><b>3.1.3</b> Side-by-side Barchart</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3-week-3.html"><a href="3-week-3.html#multiple-sets-of-proportions"><i class="fa fa-check"></i><b>3.2</b> Multiple Sets of Proportions</a><ul>
<li class="chapter" data-level="3.2.1" data-path="3-week-3.html"><a href="3-week-3.html#faceted-bar-charts"><i class="fa fa-check"></i><b>3.2.1</b> Faceted Bar charts</a></li>
<li class="chapter" data-level="3.2.2" data-path="3-week-3.html"><a href="3-week-3.html#side-by-side-stacked-barcharts"><i class="fa fa-check"></i><b>3.2.2</b> Side-by-Side Stacked Barcharts</a></li>
<li class="chapter" data-level="3.2.3" data-path="3-week-3.html"><a href="3-week-3.html#mosiac-plots"><i class="fa fa-check"></i><b>3.2.3</b> Mosiac plots</a></li>
<li class="chapter" data-level="3.2.4" data-path="3-week-3.html"><a href="3-week-3.html#alluvial-plots"><i class="fa fa-check"></i><b>3.2.4</b> Alluvial Plots</a></li>
<li class="chapter" data-level="3.2.5" data-path="3-week-3.html"><a href="3-week-3.html#tree-graphs"><i class="fa fa-check"></i><b>3.2.5</b> Tree graphs</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="3-week-3.html"><a href="3-week-3.html#exercises"><i class="fa fa-check"></i><b>3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-week-4.html"><a href="4-week-4.html"><i class="fa fa-check"></i><b>4</b> Week 4</a><ul>
<li class="chapter" data-level="4.1" data-path="4-week-4.html"><a href="4-week-4.html#visualizing-2-or-more-continuous-variables"><i class="fa fa-check"></i><b>4.1</b> Visualizing 2 or more Continuous variables</a><ul>
<li class="chapter" data-level="4.1.1" data-path="4-week-4.html"><a href="4-week-4.html#scatter-plots"><i class="fa fa-check"></i><b>4.1.1</b> Scatter plots</a></li>
<li class="chapter" data-level="4.1.2" data-path="4-week-4.html"><a href="4-week-4.html#pairs-plots-all-vs-all-scatterplots"><i class="fa fa-check"></i><b>4.1.2</b> Pairs plots (All-vs-all scatterplots)</a></li>
<li class="chapter" data-level="4.1.3" data-path="4-week-4.html"><a href="4-week-4.html#correlation-plots"><i class="fa fa-check"></i><b>4.1.3</b> Correlation Plots</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-week-4.html"><a href="4-week-4.html#pearsons-correlation-coefficient"><i class="fa fa-check"></i><b>4.2</b> Pearson’s Correlation Coefficient</a></li>
<li class="chapter" data-level="4.3" data-path="4-week-4.html"><a href="4-week-4.html#overplotting"><i class="fa fa-check"></i><b>4.3</b> Overplotting</a><ul>
<li class="chapter" data-level="4.3.1" data-path="4-week-4.html"><a href="4-week-4.html#transparency"><i class="fa fa-check"></i><b>4.3.1</b> Transparency</a></li>
<li class="chapter" data-level="4.3.2" data-path="4-week-4.html"><a href="4-week-4.html#intensity-maps"><i class="fa fa-check"></i><b>4.3.2</b> Intensity Maps</a></li>
<li class="chapter" data-level="4.3.3" data-path="4-week-4.html"><a href="4-week-4.html#contour-plots"><i class="fa fa-check"></i><b>4.3.3</b> Contour Plots</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="4-week-4.html"><a href="4-week-4.html#exercises-1"><i class="fa fa-check"></i><b>4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-week-5.html"><a href="5-week-5.html"><i class="fa fa-check"></i><b>5</b> Week 5</a></li>
<li class="chapter" data-level="6" data-path="6-week-6.html"><a href="6-week-6.html"><i class="fa fa-check"></i><b>6</b> Week 6</a><ul>
<li class="chapter" data-level="6.1" data-path="6-week-6.html"><a href="6-week-6.html#maternity-deaths"><i class="fa fa-check"></i><b>6.1</b> Maternity Deaths</a></li>
<li class="chapter" data-level="6.2" data-path="6-week-6.html"><a href="6-week-6.html#exercises-2"><i class="fa fa-check"></i><b>6.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-week-7.html"><a href="7-week-7.html"><i class="fa fa-check"></i><b>7</b> Week 7</a><ul>
<li class="chapter" data-level="7.1" data-path="7-week-7.html"><a href="7-week-7.html#maternity-deaths-1"><i class="fa fa-check"></i><b>7.1</b> Maternity Deaths</a><ul>
<li class="chapter" data-level="7.1.1" data-path="7-week-7.html"><a href="7-week-7.html#step-four-finding-data"><i class="fa fa-check"></i><b>7.1.1</b> Step Four: Finding Data</a></li>
<li class="chapter" data-level="7.1.2" data-path="7-week-7.html"><a href="7-week-7.html#univariate-exploratory-graphing"><i class="fa fa-check"></i><b>7.1.2</b> Univariate Exploratory Graphing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-week-8.html"><a href="8-week-8.html"><i class="fa fa-check"></i><b>8</b> Week 8</a><ul>
<li class="chapter" data-level="8.1" data-path="8-week-8.html"><a href="8-week-8.html#project-goal"><i class="fa fa-check"></i><b>8.1</b> Project Goal</a></li>
<li class="chapter" data-level="8.2" data-path="8-week-8.html"><a href="8-week-8.html#overview-of-story"><i class="fa fa-check"></i><b>8.2</b> Overview of Story</a><ul>
<li class="chapter" data-level="8.2.1" data-path="8-week-8.html"><a href="8-week-8.html#introduction-1"><i class="fa fa-check"></i><b>8.2.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2.2" data-path="8-week-8.html"><a href="8-week-8.html#methods"><i class="fa fa-check"></i><b>8.2.2</b> Methods</a></li>
<li class="chapter" data-level="8.2.3" data-path="8-week-8.html"><a href="8-week-8.html#results"><i class="fa fa-check"></i><b>8.2.3</b> Results</a></li>
<li class="chapter" data-level="8.2.4" data-path="8-week-8.html"><a href="8-week-8.html#discussion"><i class="fa fa-check"></i><b>8.2.4</b> Discussion</a></li>
<li class="chapter" data-level="8.2.5" data-path="8-week-8.html"><a href="8-week-8.html#references"><i class="fa fa-check"></i><b>8.2.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="8-week-8.html"><a href="8-week-8.html#expectations"><i class="fa fa-check"></i><b>8.3</b> Expectations</a></li>
<li class="chapter" data-level="8.4" data-path="8-week-8.html"><a href="8-week-8.html#suggestions"><i class="fa fa-check"></i><b>8.4</b> Suggestions</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-week-9.html"><a href="9-week-9.html"><i class="fa fa-check"></i><b>9</b> Week 9</a><ul>
<li class="chapter" data-level="9.1" data-path="9-week-9.html"><a href="9-week-9.html#dashboards"><i class="fa fa-check"></i><b>9.1</b> Dashboards</a></li>
<li class="chapter" data-level="9.2" data-path="9-week-9.html"><a href="9-week-9.html#data-gathering"><i class="fa fa-check"></i><b>9.2</b> Data Gathering</a></li>
<li class="chapter" data-level="9.3" data-path="9-week-9.html"><a href="9-week-9.html#data-preparation"><i class="fa fa-check"></i><b>9.3</b> Data Preparation</a></li>
<li class="chapter" data-level="9.4" data-path="9-week-9.html"><a href="9-week-9.html#base-graphic-components"><i class="fa fa-check"></i><b>9.4</b> Base Graphic Components</a></li>
<li class="chapter" data-level="9.5" data-path="9-week-9.html"><a href="9-week-9.html#dashboard"><i class="fa fa-check"></i><b>9.5</b> Dashboard</a></li>
<li class="chapter" data-level="9.6" data-path="9-week-9.html"><a href="9-week-9.html#upload-it-to-tableau-public"><i class="fa fa-check"></i><b>9.6</b> Upload it to Tableau Public</a></li>
<li class="chapter" data-level="9.7" data-path="9-week-9.html"><a href="9-week-9.html#next-step"><i class="fa fa-check"></i><b>9.7</b> Next Step</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-week-10.html"><a href="10-week-10.html"><i class="fa fa-check"></i><b>10</b> Week 10</a><ul>
<li class="chapter" data-level="10.1" data-path="10-week-10.html"><a href="10-week-10.html#presentation-thoughts"><i class="fa fa-check"></i><b>10.1</b> Presentation Thoughts</a></li>
<li class="chapter" data-level="10.2" data-path="10-week-10.html"><a href="10-week-10.html#interactive-graphics"><i class="fa fa-check"></i><b>10.2</b> Interactive Graphics</a><ul>
<li class="chapter" data-level="10.2.1" data-path="10-week-10.html"><a href="10-week-10.html#aggregation-level"><i class="fa fa-check"></i><b>10.2.1</b> Aggregation Level</a></li>
<li class="chapter" data-level="10.2.2" data-path="10-week-10.html"><a href="10-week-10.html#highlight-level"><i class="fa fa-check"></i><b>10.2.2</b> Highlight Level</a></li>
<li class="chapter" data-level="10.2.3" data-path="10-week-10.html"><a href="10-week-10.html#the-me-layer"><i class="fa fa-check"></i><b>10.2.3</b> The “Me” Layer</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">STA 141 - Exploratory Data Analysis and Visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="week-9" class="section level1">
<h1><span class="header-section-number">Chapter 9</span> Week 9</h1>
<div id="dashboards" class="section level2">
<h2><span class="header-section-number">9.1</span> Dashboards</h2>
<p>The goal with dashboards is to create a sequence of visualizations that work together to tell a story.</p>
<p>Tableau Examples:
<a href="https://public.tableau.com/en-us/gallery/history-world?tab=featured&amp;topic=greatest-hits">History of World Civilizations</a>
<a href="https://public.tableau.com/en-us/gallery/tale-rainforest?tab=featured&amp;topic=greatest-hits">Rainforest Biodiversity</a>
<a href="https://public.tableau.com/en-us/gallery/texan-oil-rigs?tab=featured&amp;topic=greatest-hits">Oil Rigs in Texas 2011-2016</a>
<a href="https://public.tableau.com/en-us/gallery/women-politics-0?tab=featured&amp;topic=greatest-hits">Women In Politics Around the World</a>
<a href="https://public.tableau.com/en-us/gallery/new-york-taxis?tab=featured&amp;topic=greatest-hits">Taxi Rides in NYC</a></p>
<p>Our Example:
Example: Over the last few years, news articles have been talking about the change in demographics in regards the proportion on Hispanic citizens. Given that demographics are highly related to voting preferences, understanding these demographic shifts seems interesting.</p>
<p>Before we consider the voting issue, we’ll first try to address the changing demographics. As we consider how to build an interactive graphic, we should keep in mind the following:</p>
<ol style="list-style-type: decimal">
<li>Demographic changes are highly spatially variable. We have to have maps on a county-level scale in the graphics.</li>
<li>Time Matters. Somehow we need to be able to step through time and see what happens.</li>
<li>Because we are dealing with Hispanic/non-Hispanic, we have some flexibility in color choices. We could fill the county or state color based on the proportion of the region that is Hispanic.</li>
<li>It would be cool have a map where you could select a state or county and then see how the proportion changes over time.</li>
<li>I still have a question about if we need to visualize the proportion or the raw numbers of people. Eventually I want to think about voting and relative population sizes matter, so maybe we want to be able to switch between proportions and counts.</li>
<li>I’m not sure about the scale of the data we need. Are counties small enough or do we need to go onto finer scale information? I worry that going too small might be tough to visualize.</li>
</ol>
</div>
<div id="data-gathering" class="section level2">
<h2><span class="header-section-number">9.2</span> Data Gathering</h2>
<p>The following web links will cause a query on the Census web site, and then result in some data. Go ahead and click on these!</p>
<p><a href="http://api.census.gov/data/2018/pep/population?get=DATE_CODE,DATE_DESC,DENSITY,POP,GEONAME,STATE&amp;for=state" class="uri">http://api.census.gov/data/2018/pep/population?get=DATE_CODE,DATE_DESC,DENSITY,POP,GEONAME,STATE&amp;for=state</a>:*</p>
<p><a href="http://api.census.gov/data/2018/pep/population?get=DATE_CODE,DATE_DESC,DENSITY,POP,GEONAME,STATE&amp;in=state:01&amp;for=county" class="uri">http://api.census.gov/data/2018/pep/population?get=DATE_CODE,DATE_DESC,DENSITY,POP,GEONAME,STATE&amp;in=state:01&amp;for=county</a>:*</p>
<ol style="list-style-type: decimal">
<li>The base website is <a href="http://api.census.gov/data/2018/pep/population" class="uri">http://api.census.gov/data/2018/pep/population</a>. This is effectively specifying which table we want to query from. The <code>pep</code> part stands for the <em>Population Estimation Program</em>, which is one division of the Census Bureau. The 2018 part of the base address defines the <em>vintage</em> of the estimate. This page will produce estimates for the years 2010-2018, but the Census Bureau is constantly updating those estimates based on new information. So the this is specifying that we are to use the Census’ 2018 estimate of the population.</li>
<li>Modifiers are included after the <code>?</code> and different modifiers are separated by <code>&amp;</code></li>
<li><code>get=</code> section defines the variables that you want</li>
<li>The <code>for=state:*</code> denotes that we want all of the states. <code>for=state:01</code> would have been just Alabama. If we want all the county populations we can use <code>for=county:*</code>. If we just want county populations within a particular state, we would use <code>in=state:01&amp;for=county:*</code></li>
<li>The <code>DATE_CODE=1</code> indicates that I just want the first estimate in the decadal time series of estimates. If I didn’t include this, we’d end up with estimates for each year between 2010 and 2018.</li>
</ol>
<p>When you go to this website, the database will read the modifier list, do the appropriate database query, and return the result via a webpage that has a very simple structure that is easy to parse into a table.</p>
<p>The hard part about Web APIs is understanding which tables are available and what each covariate means. For the US Census Bureau, the <a href="https://www.census.gov/developers/">developers</a> page is a great place to start. For the Population Estimation Program, there is a specific developers <a href="https://www.census.gov/data/developers/data-sets/popest-popproj/popest.html">page</a></p>
<p>This is the call that I ended up using:
<a href="http://api.census.gov/data/2018/pep/charagegroups?get=DATE_CODE,DATE_DESC,HISP,POP,GEONAME,STATE&amp;in=state:04&amp;for=county" class="uri">http://api.census.gov/data/2018/pep/charagegroups?get=DATE_CODE,DATE_DESC,HISP,POP,GEONAME,STATE&amp;in=state:04&amp;for=county</a>:*</p>
</div>
<div id="data-preparation" class="section level2">
<h2><span class="header-section-number">9.3</span> Data Preparation</h2>
<ol style="list-style-type: decimal">
<li>Remove all the rows for “Both Hispanic Origins”. The <code>HISP</code> codes are 0 = Both Hispanic Origins, 1 = Non-Hispanic, 2 = Hispanic. I found this following the developers page into the <a href="https://api.census.gov/data/2018/pep/charagegroups/variables/HISP.json">variable information</a>.</li>
<li>Remove the Census derived estimates because they double up the dates. Make sure there is just one set of estimates per date/county.</li>
<li>Make sure all the County names don’t end in “County” because Tableau prefers just the base name. Also make sure you have a column for the State name as well because some county names occur in more than one state and Tableau will get confused.</li>
<li>Within each county/date combination, calculate the Proportion Hispanic.</li>
</ol>
</div>
<div id="base-graphic-components" class="section level2">
<h2><span class="header-section-number">9.4</span> Base Graphic Components</h2>
<ol style="list-style-type: decimal">
<li>Load the Arizona County Hispanic Population data that we downloaded. Notice we have a column for County and another for State as well as a column for Population Number and Hispanic Origin (Yes/No).</li>
<li>Open a new graph sheet and name the sheet <code>Population Bar</code>.
<ol style="list-style-type: lower-alpha">
<li>Drop Date onto the x-axis, Population onto the y-axis, and Hispanic onto the color.</li>
<li>For the Date, change the aggregation from <code>Year</code> to <code>Exact</code>. For Population, make sure the aggregation is <code>Sum</code>.</li>
</ol></li>
<li>Open a new graph sheet and name the sheet <code>Map</code>.
<ol style="list-style-type: lower-alpha">
<li>Drag <code>County</code> onto the plot and change the mark type to <code>Map</code>. You might need to also drag <code>State</code> onto the marks section as well so that Tableau recognizes which state the county belongs to. This is a good habit to get into.</li>
<li>Drag <code>Proportion Hispanic</code> onto the color.</li>
<li>Drag <code>Date</code> into the tool tips. Notice that when you hover over a county, you’ll get the 2010 estimate.</li>
<li>For the map, you only want to color the proportion Hispanic, so add a filter to keep only the Hispanic proportion.</li>
</ol></li>
</ol>
</div>
<div id="dashboard" class="section level2">
<h2><span class="header-section-number">9.5</span> Dashboard</h2>
<ol style="list-style-type: decimal">
<li>Open a new dashboard.</li>
<li>Drag the map graphic to the palette area. Drag the population bar to the palette area underneath the map.</li>
<li>To add the interactivity, we’ll force the map to do some filtering. So clicking on a county results in us making the population bar for just that particular county.
<ol style="list-style-type: lower-alpha">
<li>To do this, click the main menu <code>Dashboard</code> -&gt; <code>Actions</code> -&gt; <code>Add Action</code> -&gt; <code>Filter</code>.</li>
<li>In the source pane, select only the map. In the target section, select only the Population Bar.</li>
<li>In the Target Filters, change it to be only the <code>County</code></li>
</ol></li>
<li>Add a text box that allows you to enter some text. In the Dashboard tab, there is an <code>Objects</code> section where you can grab a text box and drop it on the dashboard in a location you like.</li>
<li>Update titles, etc.</li>
</ol>
</div>
<div id="upload-it-to-tableau-public" class="section level2">
<h2><span class="header-section-number">9.6</span> Upload it to Tableau Public</h2>
<ol style="list-style-type: decimal">
<li>Try to Save it to the Tableau Public using <code>Server</code> -&gt; <code>Tableau Public</code> -&gt; <code>Save to Tableau Public</code>. This will first prompt you to create a user profile. After creating your profile, upload the graph.</li>
</ol>
<p><a href="https://public.tableau.com/profile/derek.sonderegger#!/vizhome/Texas_15731955825850/Dashboard1" class="uri">https://public.tableau.com/profile/derek.sonderegger#!/vizhome/Texas_15731955825850/Dashboard1</a></p>
</div>
<div id="next-step" class="section level2">
<h2><span class="header-section-number">9.7</span> Next Step</h2>
<ol style="list-style-type: decimal">
<li>Election Data. <a href="https://libguides.princeton.edu/elections#s-lg-box-1612379" class="uri">https://libguides.princeton.edu/elections#s-lg-box-1612379</a>. I downloaded it from the MIT Data Lab: <a href="https://electionlab.mit.edu/data" class="uri">https://electionlab.mit.edu/data</a></li>
<li>Can I do this by state? Definitely. I just need to download the data by all states.</li>
<li>Can I make the Year selector a bit nicer?</li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="8-week-8.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="10-week-10.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dereksonderegger/141/raw/master/09_Week_9.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": true
});
});
</script>

</body>

</html>
