[
["index.html", "STA 141 - Exploratory Data Analysis and Visualization Preface 0.1 Instructional Material 0.2 Data Sources", " STA 141 - Exploratory Data Analysis and Visualization Derek L. Sonderegger December 02, 2019 Preface These are the lecture notes for STA 141 - Exploratory Visual Data Analysis. This course is intended to teach students how to think critically about problems, examine data that can provide answers, and create graphs that are insightful, and ask follow-up questions to the visual analysis. Also, because disinformation can be disguised to seem credible, students will also be exposed to various data visualization tricks and statistical malarky that propagandists. The source code for my notes, homework assignments, and other information is available on my on GitHub. In particular, there is a directory data-raw that contains all of the datasets that we’ll use in these notes and homeworks. 0.1 Instructional Material This course draws information from several websites and books. Alberto Cairo’s book The Truthful Art. Alberto Cairo is the Knight Chair in Visual Journalism at the School of Communication of the University of Miami (UM), where he heads specializations in infographics and data visualization. You can find more about him at thefunctionalart.com. Also at his website, his blog highlights data visualizations in the news. Many of the graphs I will shown in this class are featured here. Claus O. Wilke has a book Fundamentals of Data Visualization. There is an online pre-print version of the book available here as well as GitHub repositories for the book source and data used in the book. He also has a nice R package called cowplot that aids in making publication ready graphs using R’s ggplot2. Calling Bullshit This is a 3-credit course taught at University of Washington. Their goal is to teach students to recognize bullshit provide another scientist a reason why a claim is bullshit. Amelia McNamara’s SDS 136 course. Amelia is an Assistant Professor at University of St Thomas and I’ve been influenced by her presentations at national conferences. These are her notes from a data visualization course that she teaches. She is also pretty fun to follow on twitter. 0.2 Data Sources The website Our World in Data has tried to bring together huge amounts of information about a variety of topics and presents the data in context. It typically addresses socioeconomic issues. The website Kaggle started out as a repository for data sets in which data scientists would have host informal competitions. It has grown to host thousands of data sets covering a wide variety of issues. The Gapminder website has health and socioeconomic data for counties going back in time. Access data from the US Government from Data.gov The Centers for Disease Control Vital Stats allows for direct download of commonly used downloads. The CDC’s Wonder on-line access allows you to format data requests for a wide variety of scenarios. "],
["1-week-1.html", "Chapter 1 Week 1 1.1 Introduction 1.2 EPTs and Gestalt 1.3 Practicum #1", " Chapter 1 Week 1 1.1 Introduction 1.1.1 Initial thoughts. What is data? Why visualize it? See relationships that raw data obscure. Cognative work to translate raw numbers into context between other data points are already done for you. Good graphics translate particular numerical relationships into physical relationships which our brains are really good at processing. 1.1.2 Amazing Graphics UK Drug Poison These are the data from the UK related to drug overdose and misuse. Farther down the page gives a similar graph on suicide. Migration Patterns in Europe. 1.1.3 Bad Graphs While the New York Times is generally really quite good, this graph is quite misleading. Another view of the data is more fair, although the still depressing. I feel compelled to show a bad 3-d Excel graphic as well. Reuter’s infamous gun deaths in Florida chart. An amusing case where a pie chart is ridiculous. This is the result of a survey that asks what pizza toppings are liked. In particular, a person can pick more than one topping and so the percentages don’t sum to 100%. 1.1.4 Tableau or ??? Tableau is a nice program that reads in data and can produce some very nice graphics and dashboards. Licensing Questions? What are dashboards? A series of related graphs, often with controls that allow you to explore the data. Britian’s Coal Use 2015-2019 1.2 EPTs and Gestalt Some Visual tasks are easier than others. From Alberto Cairo’s “The Truthful Art” From Hadley Wickham’s Stat 405 at Rice. (Slides 34 - 40) Effective Visualizations 1.2.1 Groupings / Gestalt The way we organize our graphics can lead a viewer to create mental groups of marks. Winona State’s Data Visualization PowerPoint Slides 30-50 Enclosures Connections Proximity Similarity (color/shape) Example: Warpbreaks While spinning wool into thread, if the tension on the wool isn’t correctly set, the thread can break. Here we compare two different types of wool at three different tensions. 1.2.2 “Color” Scales Defining Color really has three different attributes (From Wikipedia). 1.2.2.1 HSV Scale Hue: The attribute of a visual sensation according to which an area appears to be similar to one of the perceived colors: red, yellow, green, and blue, or to a combination of two of them. Saturation: The “colorfulness of a stimulus relative to its own brightness” Value: The “brightness relative to the brightness of a similarly illuminated white” HSV Cylinder from Wikipedia Hue is appropriate for categorical variables. Saturation and/or Value is approriate for a quantitative variable scale. Neither R nor Tableau make it particularly easy to map these aspects, so we won’t get too deep into it. 1.3 Practicum #1 1.3.1 How to Store Data Data is commonly stored in spreadsheets. Columns are variables of interest Rows are observations. Example: A dataset we’ll call iris which has 150 observations of three species of iris. Each observation measured the length and width of both the petals and sepals. Sepal.Length Sepal.Width Petal.Length Petal.Width Species 5.1 3.5 1.4 0.2 setosa 4.9 3 1.4 0.2 setosa 4.7 3.2 1.3 0.2 setosa 4.6 3.1 1.5 0.2 setosa 5 3.6 1.4 0.2 setosa 5.4 3.9 1.7 0.4 setosa Example: A dataset we’ll call GradeBook that has records of how well a student performed on exams. I’ll refer to this storage as the wide orientation. StudentID Exam 1 Exam 2 Final Exam 1 87 87 81 2 91 88 85 3 88 79 92 4 91 97 94 5 100 83 90 6 85 79 81 Or I could have stored the information in the following manner, which I’ll refer to as the long orientation. StudentID Assesment Score 1 Exam 1 91 1 Exam 2 90 1 Final Exam 87 2 Exam 1 73 2 Exam 2 76 2 Final Exam 53 1.3.2 Tableau 1.3.2.1 Task 1: Dragging variables onto destination First we’ll make a scatterplot with some colors. The iris data I used for this graph is available here: data: https://raw.githubusercontent.com/dereksonderegger/141/master/data-raw/iris.csv 1.3.2.2 Task 2: Modifying how a variable is displayed https://raw.githubusercontent.com/dereksonderegger/141/master/data-raw/Lock5_GPAGender.csv 1.3.2.3 Task 3: Reorder categorical variable levels https://raw.githubusercontent.com/dereksonderegger/141/master/data-raw/warpbreaks.csv "],
["2-week-2.html", "Chapter 2 Week 2 2.1 Amounts 2.2 Distributions 2.3 Proportions", " Chapter 2 Week 2 Assignments Read Chapter 6 and 7 from Claus Wilke’s Fundamentals of Data Visualiztion book. Watch Hans Roslings TED talk. Comment on two aspects of the videa that stand out to you regarding how he presented his data and how he talked through the visualization with the audience. Graph the NOAA CO\\(_2\\) data over time. The Nationa Oceanic and Atmospheric Adminstration has monthly CO\\(_2\\) atmospheric levels data available to the public at NOAA’s website. However, this is a little obnoxious to get into Tableau, so I’ve done some data wrangling for you already. The Date2 column has the date information encoded using a continuous decimal scale. CO\\(_2\\) is measured in parts per million. Plot CO\\(_2\\) over time while showing the monthly trend. Should we use area or lines? Why? Create a graph that shows a single mark per year (so average over all observations in a year). Do you like this better? Explain your reasoning. Create a follow-up graphic that shows the monthly trend. Explain what you want to demonstrate and why you chose to display the information as you did. 2.1 Amounts The 2020 presidential candidate field has a wide range of ages. The New York Times has a nice article showing the candidate ages. I grabbed a few of the most prominent candidates and pulled their birthdays from Wikipedia and then calculated their age on election day. The order of the candidates is useless. Here we have ordered them alphabetically when we should try to think about an ordering that improves clarity. Lets switch to sorting the candidates by age. This isn’t too bad, but it fails to visually impress the differences. A bar chart should visually impress the ages based on the length of the bar so that we con’t have to keep looking at the Age axis. What would be dishonest is if we were to chop off the bars at 35 or 40 to make the age difference between Buttigieg and Warren, Trump, Biden and Sanders seem huge. Often we need to graph some value and want to know how it varies among two different categories. In these cases, we have to employ some sort of grouping strategy. The bar chart here is obscuring the differences in life expectancies because the numbers are so close. In this case, I think points make more sense. Also I want to see how life expectancy has changed since World War II. In the above graph, I am grouping countries both by enclosure and with a physical path connection. The reader tends to see the line as a whole object and compare the line max/min and slope among the seven countries. We might consider changing the faceting to stack the countries, but this makes it much harder to compare countries to see which has a higher life expectancy. A heat map makes it easier to see which country has the highest life expectancy, but we lose precision in the actual values. 2.2 Distributions Given a single variable, I often want to know what values are common and what values are rare. To visualize this, we will primarily compare marks along a common axis (the most accurate EPT!) 2.2.1 Small samples If we only have a few observations, then we can just graph them along an axis. Another trick that works with more data, is to not use dots but rather lines. This is called a rugplot. This is often used in conjunction with another graph such as a scatterplot. 2.2.2 Histograms When we have a moderate size of data, graphing dots exactly on an axis doesn’t work and results in overplotting and it is difficult to see where the data cluster. Instead we’ll stack the dots in columns along the axis and call this a dotplot. Each dot represents an observation, but the x-values have been rounded into group values. So we have lost some precision. Another common version of this is a histogram, where the y-axis represents how many observations fall into each bin. The choice of how many bins to include can make a dramatic difference in a graph. In particular, I don’t believe that there is any biological reason to think the dip near 2700 grams is real. I believe that is is actually just an artifact of the data I have. Instead we should consider changing the number of bins. 2.2.3 Density plots Histograms suffer from being to angular or pointy. Another solution is call a kernel density smoother that mathematically smooths over the heights of the histogram bars. 2.2.4 Faceting One of my favorite ways to display multiple distributions is to group each distribution into it’s own plot in a process often referred to as faceting. By choosing to put the two graphs on top of the other, it becomes clear that the smoker’s tend to give birth to smaller infants. This fact isn’t clear in the side-by-side graphs. 2.2.5 Stacking Stacking the distribution involes laying each distribution on top of each other, so that the zero of the top curve follows the curve on the bottom. You can visualize the B chart having the Non-smoker density graph just melt onto the smoker density. I really don’t like this graph because it is very hard to see where the peak of the non-smoker curve is. This stacking trick works well enough when we have proportions but isn’t good here. 2.2.6 Overlapping curves Another option is to graph the densities, but allow them to overlap each other and be a bit see-thru. For seeing shifts in the center of the distribution, overlapping curves is quite powerful. For another nice example, we can look at the density of the daily maximum temperature in Lincoln Nebraska in 2016. 2.2.7 Boxplots Boxplots are a traditional way to display a distribution and the box contains the middle 50% of the data points. Notice that in density plots, there were two peaks in December with the lower peak corresponding to a cold snap. However that detail is lost in the boxplots. 2.2.8 Violin Plots Boxplots are a traditional way to display a distribution and the box contains the middle 50% of the data points. Now we can see the two peaks in December, but the three peaks in November have been flattened out because the amount of space necessary to show it would require that the densities overlap. 2.3 Proportions A good pie chart from reddit/r/dataisbeautiful member u/foiltape. A Good Pie Chart "],
["3-week-3.html", "Chapter 3 Week 3 3.1 Proportions 3.2 Multiple Sets of Proportions 3.3 Exercises", " Chapter 3 Week 3 3.1 Proportions Conceptually graphing proportions is the same as graph raw values, but sum to 100%. This seemingly small difference means that our graphic can imply that our categories contain ALL possible categories. 3.1.1 Pie Charts As typical, with a just a few categories, we should move the labels onto the graph and just annotate the graph. Also, we’ll order the categories from the most temperary employees (instructors) to most permanent (professors) 3.1.2 Stacked Bar 3.1.3 Side-by-side Barchart Pie chart Stacked bars Side-by-side bars Clear that data is proportions of a whole Yes Yes no Precise visual comparison of values no no Yes Visually appealing even in simple comparisons Yes no Yes Extendable to nested or multiple distributions or time series no Yes no 3.2 Multiple Sets of Proportions 3.2.1 Faceted Bar charts 3.2.2 Side-by-Side Stacked Barcharts 3.2.3 Mosiac plots Sort like side-by-side stacked bar charts, but now we allow the column width to vary as well. The area is proportional the groups representation in the whole data. This reduces the number of really thin bands because we can make the column narrower as well. 3.2.4 Alluvial Plots If we want to compare multiple categorical variables, another option is alluvial plots. I find that alluvial plots work better for events that have a definate chronological order and there is less stream overlaps.. Here is an example from a Washington Post story about people graphing their online dating interactions. These are the results of 6.5 weeks of online dating by a 37 year old woman. 3.2.5 Tree graphs In mosaic plots, we had crossed variables where every category level of one factor could show up with all levels of another factor. Crossed Factors Suitable for a Mosaic Plot. Factor.1 Factor.2 value A w 4 A x 6 B w 15 B x 25 Another possibility is that the variables are nested such that a category level of the second factor only ever occurs within a single level of the first factor. Nested Factors Suitable for a Tree Map. Factor.1 Factor.2 value A w 4 A x 6 B y 15 B z 25 When we have a hierarchical structure of categories, then mosaic plots aren’t quite right. Instead we’ll hierarchically subdivide the graph area up. The graph first separates the graph into continents and scales the area of each continent by the population of the continent. Then each continent is split into the countries that compose the continent, again with area representing population. Finally the countries are color-coded by their 2007 life expectancy. This differs from a moasic plot in that a country only occurs withing one continent whereas in a mosaic plot, a category level will occur in multiple “containers”. 3.3 Exercises Alluvial plots are a particular type of Sankey graphs which show flow rates and amounts and have been around for quite some time. In 1869, Charles Minard created a graphic that details the size of Napaleon’s army as they marched on Russia and subsequently returned. You can find the original or the modern English translation on Wikipedia. How many men did the army start marching with? How many men arrived in Moscow? How many men died crossing the Berezina River on the return trip? (approximately from the map information provided) How cold was it when they cross the Berezina River on the retern trip? Read Chapter 10 and 11 in Claus Wilke’s Fundamentals of Data Visualiztion book. In chapter 10 he presents several different graphics that visualize the bridge construction era, bridge material, and which river they cross for bridges near Pittsburgh, Pennsylvania. Discuss three of them and explain which graph you prefer and why. Download data about the Titanic disaster at the GitHub site for this class. Save the file as a Titanic.csv and open it in Tableau. In Tableau, a faceted stacked barchart just as we did in these notes. In a new worksheet, copy your faceted stacked barchart and then turn it into faceted pie charts. Comment on which you prefer and why. Finally create a mosaic plot of the Titatic dataset. "],
["4-week-4.html", "Chapter 4 Week 4 4.1 Visualizing 2 or more Continuous variables 4.2 Pearson’s Correlation Coefficient 4.3 Overplotting 4.4 Exercises", " Chapter 4 Week 4 4.1 Visualizing 2 or more Continuous variables 4.1.1 Scatter plots Basic idea is to build off of a scatter plot. This visualizes the relationship between two continuous variables. In a scatter plot we can see the relationship between two variables. We can see the relationship among more variables (either continuous or discrete) by adding Size, Color, and Shape. We could also add other categorical variables by adding faceting. With this combination we can visualize the relationship between up to 6 different variables. 4.1.2 Pairs plots (All-vs-all scatterplots) 4.1.3 Correlation Plots 4.2 Pearson’s Correlation Coefficient We first consider Pearson’s correlation coefficient, which is a statistics that measures the strength of the linear relationship between the predictor and response. Consider the following Pearson’s correlation statistic \\[r=\\frac{\\sum_{i=1}^{n}\\left(\\frac{x_{i}-\\bar{x}}{s_{x}}\\right)\\left(\\frac{y_{i}-\\bar{y}}{s_{y}}\\right)}{n-1}\\] where \\(x_{i}\\) and \\(y_{i}\\) are the x and y coordinate of the \\(i\\)th observation. Notice that each parenthesis value is the standardized value of each observation. If the x-value is big (greater than \\(\\bar{x}\\)) and the y-value is large (greater than \\(\\bar{y}\\)), then after multiplication, the result is positive. Likewise if the x-value is small and the y-value is small, both standardized values are negative and therefore after multiplication the result is positive. If a large x-value is paired with a small y-value, then the first value is positive, but the second is negative and so the multiplication result is negative. The following are true about Pearson’s correlation coefficient: \\(r\\) is unit-less because we have standardized the \\(x\\) and \\(y\\) values. \\(-1\\le r\\le1\\) because of the scaling by \\(n-1\\) A negative \\(r\\) denotes a negative relationship between \\(x\\) and \\(y\\), while a positive value of \\(r\\) represents a positive relationship. \\(r\\) measures the strength of the linear relationship between the predictor and response. 4.3 Overplotting 4.3.1 Transparency Wilke’s book uses and example of departure time of day versus the delay amount for all the flights out of New York City in 2013. The story to take home is that longer delays tend to happen later in the afternoon or evening rather than in the morning. Wilke uses these data to argue that overplotting is annoying and that a heat map can help out. 4.3.2 Intensity Maps No matter how much we adjust the transparency, we can’t really fix this because there is so much data. If for each area on the graph, we count how many observations fall into the region, we can color the area based on how many observations are in the region. This graph leads me to think that MOST flights are quite late, when if fact, they aren’t. This is due to the problem of “proportional pixels”. There is so much space and color devoted to flights that are more than 30 minutes late that the viewer can’t help but have that impression. delay n proportion (-30,-10] 12465 0.03794 (-10,0] 187620 0.5711 (0,10] 45598 0.1388 (10,30] 34543 0.1051 (30,60] 21710 0.06608 (60,120] 16858 0.05132 (120,180] 5830 0.01775 (180,Inf] 3893 0.01185 Because we are interest in the time distribution of significant delays, and early departures are usually only by a couple of minutes, we’ll we’ll take a log\\(_{10}\\) transformation of all the delays greater than 10 minutes. 4.3.3 Contour Plots 4.4 Exercises Read Chapters 12 and 18 from Wilke’s book. Feel free to skip section 12.3. We will use a smaller version of the diamonds dataset that Wilke uses in his Chapter 18. You can download it from my GitHub site in a .csv file. We will examine price, carats, cut (Fair, Good, Very Good, Premium, and Ideal), color (J - D), and clarity (I1, SI2, SI1, VS2, VS1, VVS2, VVS1, IF), where the category labels I’ve given are from worst to best. Had I not told you that clarity level IF is the best clarity, what graphs could you make to figure that out? Create and show a graph that demonstrates this and explain your graph. If the diamond clarity isn’t good, the dimond cutter won’t worry too much about the quality of cut. Make a graph that demonstrates that and explain your reasoning. While in principle it is possible for the dimond carats to be any number, they are often cut to be some common carat size. Create a visualization that shows this and discuss how the carat size changes as the cut and clarity improve. From the Gapminder.com website, I’ve downloaded a bunch of interesting covariates about countries. You can find my dataset at my GitHub site in a .csv file. The variables I’ve included include the country region, year, population size, population growth, percent of population with basic sanitation, GDP per capita, Total GDP, life expectancy, adult male and female labor force participation rates. Fertility is the number of children per woman, so a fertility rate of 2 children per woman is a stable population. For all the following questions, only consider the year 2015. Investigate the relationship between GDP and GDP_per_capita. Why should we prefer to work with GDP_per_capita when comparing standards of living between, say, the United States and Canada? Investigate the relationship between life expectancy, fertility, and GDP_per_capita. Do these relationships seem to vary by region? Comment on your graphs and relationships that you observe. Investigate the relationship relationship between life expectancy, adult female labor force participation and fertility. Does this vary by region? Comment on your graphs and relationships that you observe. "],
["5-week-5.html", "Chapter 5 Week 5", " Chapter 5 Week 5 Week 5 was an introduction to graphing geographical information. Read chapter 15 in Wilke’s book. We also had an exam. "],
["6-week-6.html", "Chapter 6 Week 6 6.1 Total 35% 38% 38.75% 34.4% 6.2 Maternity Deaths 6.3 Exercises", " Chapter 6 Week 6 This week we start asking “What” to graph instead of just “How” to graph. Example: Should we be using GDP to measure economic “success”? Example: Tim Cook displaying total iPhone sales instead of quarterly sales. Example: Rates of vehicle fires for Tesla vs Internal Combustion Vehicles. Example: Age Standardization Suppose we have two populations with the following age structures and proportion that believe that vaping is “very harmful”. Suppose that in each population we’ve asked if individuals believe that vaping is “very harmful”. Population Agree A 0.35 B 0.3798 However It turns out that Population B has a much older population. Here I am considering population sizes of 100 individuals just to make the math convenient, but these could be arbitrary population sizes. Population Sizes Age A B 18-29 40 10 30-49 30 20 50-64 20 30 65+ 10 40 Is Vaping Harmful? (By age group and population). Here we see that, by age group, people in population B tend to be more permissive opinion about vaping than population A. Age A B 18-29 40 (0.25) 10 (0.2) 30-49 30 (0.4) 20 (0.35) 50-64 20 (0.4) 30 (0.366) 65+ 10 (0.5) 40 (0.45) Total 0.35% 0.38 What if Population A had the same demographics as Population B? Lets calculate the “Average Demographic Distribution” and then do the multiplication. Age A B A.Std B.Std 18-29 40 (0.25) 10 (0.2) 25 (0.25) 25 (0.2) 30-49 30 (0.4) 20 (0.35) 25 (0.4) 25 (0.35) 50-64 20 (0.4) 30 (0.366) 25 (0.4) 25 (0.366) 65+ 10 (0.5) 40 (0.45) 25 (0.5) 25 (0.45) 6.1 Total 35% 38% 38.75% 34.4% Next we consider an example of where this might be helpful. Our example comes from a website “Our World in Data” which tries to provide useful data sets and analysis to address major societal issues. Here we will consider suicide rates in different countries around the world. 6.2 Maternity Deaths Suppose that we are interested the mortality rates that women experience related to pregnancy and birth. Step One: Variable of interest Clearly we want to have some sort rate adjustment to account for different population sizes. However, because not all women give birth, we shouldn’t just consider all women. Instead we’ll consider this maternal deaths per 100,000 live births. Step Two: Context Approximately 700 women per year die due to complications of pregnancy or child birth in the United States. This turns out to be ~17.2 deaths per 100,000 births, or about 1 maternal death per 5,000 live births. Step Three: Conditional Statistics - How does this vary between countries? - How does this vary between states? - How does this vary between socio-economic or ethic groups? Step Four: Finding Data - Typically it is easy to google for a single statistic for a country. However, it is often difficult to find a dataset that allows for the conditional statistics, such as between states or ethnic groups. - I found data from the Centers for Disease Control. The CDC’s Wonder on-line access allows you to format data requests for a wide variety of scenarios. Now we find some data from the CDC… - Problem: Can’t get State by Year data due to confidentiality… - Year by race? MMR &lt;- read_csv(&#39;data-raw/PregnancyDeaths_By_Race_by_Time.csv&#39;) MMR &lt;- read_csv(&#39;data-raw/PregnancyDeaths_By_Race_by_Time.csv&#39;) ggplot(MMR, aes(x=Year, y=Rate, color=Race) ) + geom_line() 6.3 Exercises Download from the STA 141 GitHub raw data directory files for the murders per state as well as population sizes of each state. The murder information data file contains information about the number of murders per state, how many of those murders were gun related, and the rate of gun ownership. I got this information from Wikipedia, and it isn’t clear if gun ownership rate is the percent of residents that owns one or more gun or if it is the number of guns per state divided by the number of residents. Join the state population and murder information data sets. Calculate the murder rate and gun murder rate for each statement per 100,000 residents. Make a scatterplot of gun ownership rate vs the gun murder rate. Download from the STA 141 GitHub raw data directory files for the suicide rates per state. Join this data to data you used in problem 1. Create a scatterplot graph of suicide rate vs gun ownership rates. Given the context of the problems (1) and (2), what follow-up questions come to mind? Given at least two follow-up questions and the graphs you would create to address those questions. Identify the data you would need to create such a graph. Context: At this point, you are not expected to find the data, but identify what variables of interest you would need. Propose a topic of interest to you and consider what variables you would need to obtain to explain it to your fellow classmates in a series of one or more graphics. In particular, discuss how the variables you chose needed (or will need) to be transformed to provide useful comparisons. "],
["7-week-7.html", "Chapter 7 Week 7 7.1 Maternity Deaths", " Chapter 7 Week 7 7.1 Maternity Deaths Suppose that we are interested the mortality rates that women experience related to pregnancy and birth. Step One: Variable of interest Clearly we want to have some sort rate adjustment to account for different population sizes. However, because not all women give birth, we shouldn’t just consider all women. Instead we’ll consider this maternal deaths per 100,000 live births. Step Two: Context Approximately 700 women per year die due to complications of pregnancy or child birth in the United States. This turns out to be ~17.2 deaths per 100,000 births, or about 1 maternal death per 5,000 live births. Step Three: Conditional Statistics - How does this vary between countries? - How does this vary between states? - How does this vary between socio-economic or ethic groups? 7.1.1 Step Four: Finding Data Typically it is easy to google for a single statistic for a country. However, it is often difficult to find a dataset that allows for the conditional statistics, such as between states or ethnic groups. I found data from the Centers for Disease Control. Maternal Deaths: The CDC’s Wonder on-line access allows you to format data requests for a wide variety of scenarios. - Tried to get Maternal Deaths by State by Year. However, the CDC won’t release that. The reason is that from an ethical standpoint, government cannot risk exposing information for any individual. So all government agencies will only release data that has been aggregated to a point where they are certain that individuals cannot be identified. - Year by race? That was successful. ## # A tibble: 6 x 6 ## Race Year Deaths Population `Crude Rate` Hispanic ## &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;fct&gt; ## 1 Native 1999 1 564085 Unreliable Hispanic ## 2 Native 2001 1 736712 Unreliable Hispanic ## 3 Native 2005 1 1101386 Unreliable Hispanic ## 4 Native 2007 1 1327365 Unreliable Hispanic ## 5 Native 2010 1 1693971 Unreliable Hispanic ## 6 Native 2011 1 1748621 Unreliable Hispanic How do we get number of births? Again we get information from the CDC Wonder data base access. ## # A tibble: 6 x 6 ## Year Births `Average Birth Weig… `Average Age of Moth… Race Hispanic ## &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt; ## 1 2007 5819 3282. 25.0 Native Hispanic ## 2 2007 42890 3320. 25.1 Native Not Hispa… ## 3 2007 734 3294. 25.4 Native Unknown ## 4 2007 9188 3241. 26.5 Asian Hispanic ## 5 2007 242046 3187. 30.3 Asian Not Hispa… ## 6 2007 3254 3198. 30.1 Asian Unknown 7.1.2 Univariate Exploratory Graphing I can’t help but look at how the birth numbers in the US have changed over time. Finally we can calculate Deaths per 100,000 births. Finally we’ll look at US vs rest of the world. "],
["8-week-8.html", "Chapter 8 Week 8 8.1 Project Goal 8.2 Overview of Story 8.3 Expectations 8.4 Suggestions", " Chapter 8 Week 8 8.1 Project Goal This class project is intended to have students experience the process of: Asking questions that interest them. Search for available data sets that are pertinent to the question. Wrangle the data into a usable format. Create graphic(s) that address the question of interest. Using those graphics, ask follow-up questions and what data you would need to next get. 8.2 Overview of Story 8.2.1 Introduction Because student projects will cover a wide variety of topics, we can’t assume that the audience knows the necessary background information. Therefore, the introduction will introduce the audience to the topic and relevant concepts and terminology. The introduction section is all about the subject area of interest and NOT statistical or computational issues. This section should be written for an non-technical audience and avoid methodological details. 8.2.2 Methods The purpose of this section is to give other researchers information about where the data was acquired, what transformations or modifications you made. Essentially this where we put the annoying details about how we did what we did. This section is often very dense and the main focus is the statistical and computational issues encountered and choices made to address those issues. In the written presentation, you can be verbose enough that somebody could re-create the analysis you did. In the presentation, the amount of detail can be toned down. 8.2.3 Results In the results section, you present the graphs and analyses that have been created and major take-away points are clearly emphasized. In this section, only results that our data support should be brought up. The content of this is a mixture of the results of the analysis as well as how to interpret those results in the context of the subject area of interest. 8.2.4 Discussion In the discussion section, we focus on the implications of our analysis and what they mean in the context of our subject are of interest. Open-ended questions that the current data does not address can be brought up and the author/presenter should feel free to offer speculation. In this section, we are focused on the subject area and not the statistical/computational issues. 8.2.5 References This section documents any articles and/or database locations and access dates. 8.3 Expectations For this project, I expect that the presentation will be about 10 minutes and that the Introduction takes about 2 minutes, perhaps another 2 minutes for the methods, 5 minutes for the results, and a minute or 2 for the discussion and references. For the paper aspect of the project, I expect projects to be a bit over 1000 words plus 3-5 appropriate graphs. 8.4 Suggestions "],
["9-week-9.html", "Chapter 9 Week 9 9.1 Dashboards 9.2 Data Gathering 9.3 Data Preparation 9.4 Base Graphic Components 9.5 Dashboard 9.6 Upload it to Tableau Public 9.7 Next Step", " Chapter 9 Week 9 9.1 Dashboards The goal with dashboards is to create a sequence of visualizations that work together to tell a story. Tableau Examples: History of World Civilizations Rainforest Biodiversity Oil Rigs in Texas 2011-2016 Women In Politics Around the World Taxi Rides in NYC Our Example: Example: Over the last few years, news articles have been talking about the change in demographics in regards the proportion on Hispanic citizens. Given that demographics are highly related to voting preferences, understanding these demographic shifts seems interesting. Before we consider the voting issue, we’ll first try to address the changing demographics. As we consider how to build an interactive graphic, we should keep in mind the following: Demographic changes are highly spatially variable. We have to have maps on a county-level scale in the graphics. Time Matters. Somehow we need to be able to step through time and see what happens. Because we are dealing with Hispanic/non-Hispanic, we have some flexibility in color choices. We could fill the county or state color based on the proportion of the region that is Hispanic. It would be cool have a map where you could select a state or county and then see how the proportion changes over time. I still have a question about if we need to visualize the proportion or the raw numbers of people. Eventually I want to think about voting and relative population sizes matter, so maybe we want to be able to switch between proportions and counts. I’m not sure about the scale of the data we need. Are counties small enough or do we need to go onto finer scale information? I worry that going too small might be tough to visualize. 9.2 Data Gathering The following web links will cause a query on the Census web site, and then result in some data. Go ahead and click on these! http://api.census.gov/data/2018/pep/population?get=DATE_CODE,DATE_DESC,DENSITY,POP,GEONAME,STATE&amp;for=state:* http://api.census.gov/data/2018/pep/population?get=DATE_CODE,DATE_DESC,DENSITY,POP,GEONAME,STATE&amp;in=state:01&amp;for=county:* The base website is http://api.census.gov/data/2018/pep/population. This is effectively specifying which table we want to query from. The pep part stands for the Population Estimation Program, which is one division of the Census Bureau. The 2018 part of the base address defines the vintage of the estimate. This page will produce estimates for the years 2010-2018, but the Census Bureau is constantly updating those estimates based on new information. So the this is specifying that we are to use the Census’ 2018 estimate of the population. Modifiers are included after the ? and different modifiers are separated by &amp; get= section defines the variables that you want The for=state:* denotes that we want all of the states. for=state:01 would have been just Alabama. If we want all the county populations we can use for=county:*. If we just want county populations within a particular state, we would use in=state:01&amp;for=county:* The DATE_CODE=1 indicates that I just want the first estimate in the decadal time series of estimates. If I didn’t include this, we’d end up with estimates for each year between 2010 and 2018. When you go to this website, the database will read the modifier list, do the appropriate database query, and return the result via a webpage that has a very simple structure that is easy to parse into a table. The hard part about Web APIs is understanding which tables are available and what each covariate means. For the US Census Bureau, the developers page is a great place to start. For the Population Estimation Program, there is a specific developers page This is the call that I ended up using: http://api.census.gov/data/2018/pep/charagegroups?get=DATE_CODE,DATE_DESC,HISP,POP,GEONAME,STATE&amp;in=state:04&amp;for=county:* 9.3 Data Preparation Remove all the rows for “Both Hispanic Origins”. The HISP codes are 0 = Both Hispanic Origins, 1 = Non-Hispanic, 2 = Hispanic. I found this following the developers page into the variable information. Remove the Census derived estimates because they double up the dates. Make sure there is just one set of estimates per date/county. Make sure all the County names don’t end in “County” because Tableau prefers just the base name. Also make sure you have a column for the State name as well because some county names occur in more than one state and Tableau will get confused. Within each county/date combination, calculate the Proportion Hispanic. 9.4 Base Graphic Components Load the Arizona County Hispanic Population data that we downloaded. Notice we have a column for County and another for State as well as a column for Population Number and Hispanic Origin (Yes/No). Open a new graph sheet and name the sheet Population Bar. Drop Date onto the x-axis, Population onto the y-axis, and Hispanic onto the color. For the Date, change the aggregation from Year to Exact. For Population, make sure the aggregation is Sum. Open a new graph sheet and name the sheet Map. Drag County onto the plot and change the mark type to Map. You might need to also drag State onto the marks section as well so that Tableau recognizes which state the county belongs to. This is a good habit to get into. Drag Proportion Hispanic onto the color. Drag Date into the tool tips. Notice that when you hover over a county, you’ll get the 2010 estimate. For the map, you only want to color the proportion Hispanic, so add a filter to keep only the Hispanic proportion. 9.5 Dashboard Open a new dashboard. Drag the map graphic to the palette area. Drag the population bar to the palette area underneath the map. To add the interactivity, we’ll force the map to do some filtering. So clicking on a county results in us making the population bar for just that particular county. To do this, click the main menu Dashboard -&gt; Actions -&gt; Add Action -&gt; Filter. In the source pane, select only the map. In the target section, select only the Population Bar. In the Target Filters, change it to be only the County Add a text box that allows you to enter some text. In the Dashboard tab, there is an Objects section where you can grab a text box and drop it on the dashboard in a location you like. Update titles, etc. 9.6 Upload it to Tableau Public Try to Save it to the Tableau Public using Server -&gt; Tableau Public -&gt; Save to Tableau Public. This will first prompt you to create a user profile. After creating your profile, upload the graph. https://public.tableau.com/profile/derek.sonderegger#!/vizhome/Texas_15731955825850/Dashboard1 9.7 Next Step Election Data. https://libguides.princeton.edu/elections#s-lg-box-1612379. I downloaded it from the MIT Data Lab: https://electionlab.mit.edu/data Can I do this by state? Definitely. I just need to download the data by all states. Can I make the Year selector a bit nicer? "],
["10-week-10.html", "Chapter 10 Week 10 10.1 Presentation Thoughts 10.2 Interactive Graphics", " Chapter 10 Week 10 10.1 Presentation Thoughts In the last week, we had presentations from each student and they went quite well. However we want to have a discussion about the process that students underwent. How much time was spent on data gathering? How much on data wrangling? How much on graphing? Weird file formats? Wide-vs-Long format? Can we systematically look for data? Domain knowledge is really important here. Hosting data is expensive, be thankful and think about the work somebody did. Reproducible? : Given how your project stands right now, could future you (6 months from now) easily reproduce what you’ve done? Is there any single document that provides step-by-step instructions? Or are the steps scattered throughout some scripts and some Excel magic that you won’t be able to figure out the order of operations? For each student presentation, what graphic can you remember, now 2-5 days afterward? Is is one graph or multiple graphs that you remember? How critical were annotations for the various graphics presented? Scale axes: During any presentation, did you find yourself wondering what a scale axis was? Some presentations where consistent some where not. Copying images from Tableau to PowerPoint: Did this work well or did we get fuzziness? Vector graphic formats store shapes and paths of objects and can be re-sized without losing sharpness. Examples, .pdf and .eps. These are good for most graphs, but are not efficient for maps or images. Raster graphics make a pixel map of the image and cannot be re-sized without losing sharpness. Examples are .bmp, .tif, .gif, .jpg. These are fine for maps or images, but should be avoided for graphs. 10.2 Interactive Graphics We’ve thought about interactive graphics as A method to get viewers to interact and therefore pay attention. A shiny whiz-bang doodad that is fun to fiddle with. But it is more subtle than that. Often interactive visualizations are all about changing the level of focus. 10.2.1 Aggregation Level Interaction is to choose the level of resolution about a certain question. Typically much of the information is hidden until an aggregation level is selected. By zooming in and out of resolution, we keep the big picture in mind while allowing us to dig into as much detail as you want or need. Examples Google Maps Google Maps Developer Documentation 10.2.2 Highlight Level Often we can show a high-level view of an entire topic. However there are too many details to be presented all at once and we want to suppress the details, but we want to see the relationship. Examples Bruce Springstein’s History Game of Throne’s Character Interactions 10.2.3 The “Me” Layer Viewers tend to be very self-centric and a goal of most any story or analysis should be to explain how the topic affects the reader. By allowing a user to interact with and ask how does this affect: Somebody like me. My favorite team. My state/town. Examples: NFL Elo Ratings The Birthday Problem "],
["11-week-11.html", "Chapter 11 Week 11 11.1 Critiques! 11.2 Final Projects", " Chapter 11 Week 11 11.1 Critiques! 90 Years of Gender Inequality in Canadian Politics (1930-2019). Deputies are elected members of the House of Commons. Ministers are similar to the US Cabinet members. These are senior members of the ruling party and each Minister is also a House of Commons Deputy. What do the dots represent? A person, a seat? Why do the dots turn black and then fall out? Why do new dots show up? What could help this video? Are dots the right choice? What about a pie chart over time? Scrollytelling! The Gates Foundations 2019 Report. https://www.gatesfoundation.org/goalkeepers/report/2019-report/#ExaminingInequality Initial graphic sets the stage, and indirectly the order of discussion. Font sets the tone that this is not data, but rather an idealized visualization. Scrollytelling is the zooming. Annotation on demand! More Scrollytelling! Again we are zooming out to a wider and wider perspective. https://www.nytimes.com/interactive/2019/11/06/us/politics/elizabeth-warren-policies-taxes.html The adding of dots is pretty cool. Fonts indicating uncertainty (This is a pretty new idea!) Washington Post article Races that are considered competitive are circled in a handwriting font to indicate that the notion of “competitive” is subjective. A journal article about “sketchiness” as a visual attribute of a graph mark. Do you think a gradient scale of sketchiness would work? Or is it a binary on/off stylistic choice? Not widely available in graphing packages. Other Methods for indicating variability Background distribution. Flowing Data - Time Spent Flowing Data - Firsts! Error Bars / Error Ribbons Supreme Court Justices Donald Trumps Approval Rating 11.2 Final Projects Pick a DataVis of the month from reddit/r/dataisbeautiful Pick several submissions and do a critique of them. Pick at least one bad submission, two mediocre submissions that you can say both good and bad things about, at least one very good submission. Create a comprehensive story, creating at least 3 graphics, that a reader would be able to follow. This info-graphic should be for mass consumption among adults, so pay attention to good annotation and labeling. Create a report that describes your process of and the issues that you encountered and how you overcame them, design choices you wrestled with, and revision process you used to simplify your final product. "],
["12-week-12.html", "Chapter 12 Week 12 12.1 Critiques!", " Chapter 12 Week 12 12.1 Critiques! Continuing with the idea of asking “Does this trend hold when we change the resolution?” People with more education tend to be more liberal. https://www.people-press.org/2016/04/26/a-wider-ideological-gap-between-more-and-less-educated-adults/ https://www.nytimes.com/interactive/2017/11/14/upshot/climate-change-by-education.html The US is becoming less religious https://www.pewforum.org/2015/11/03/u-s-public-becoming-less-religious/ Interactives allow us to move around regions, age classes, etc. Critiqueing Narrative structure Vox’s story on Mass Shootings in the US along with information about “standard” gun homicide and suicide. https://www.vox.com/a/mass-shootings-america-sandy-hook-gun-violence?fbclid=IwAR2rAj0599C8u-ABxtpLCbsZw7K2FYBqPC32S9GwMvlHCtC0rR6F3ytcvJ0 The narrative jumps between mass shootings, to homicides/suicides, and then back to mass shootings. I would have recommended doing the mass shooting scrollytelly, then the mass shooting interactive calendar, and then the information that mass shooting deaths are dwarfed by regular homicide and suicides. "],
["13-week-13.html", "Chapter 13 Week 13 13.1 Critiques! 13.2 Software 13.3 Thanksgiving Graphs", " Chapter 13 Week 13 13.1 Critiques! Narrative structure vs toy to play with https://projects.fivethirtyeight.com/mortality-rates-united-states/cardiovascular2/#2014 https://flowingdata.com/2019/11/18/salary-and-occupation/ 13.2 Software What software gets used in creating these graphics? Data Wrangling R Python Graphing Tableau D3 (sometimes via plotly) R (ggplot, shiny, etc) 13.3 Thanksgiving Graphs Awesome xkcd graphs Movie Timelines Heatmaps that are just population density Fukushima Radiation Dose Chart Money Flagstaff Temperature is Perfect Congressional Makeup Dumb Maps of “Most/Best XXXX in each state” Historical Graphs In London 1854, the physician John Snow stopped a cholera outbreak by keeping careful records of deaths by cholera and mapped them. As a result of this map, and the death of a person who had stopped near the neighborhood and like the taste of water from a particular well, he identified the well as the source of the outbreak and removed the well pump handle. It would eventually turn out that the well was contaminated by a old cesspit, only 3 feet away. Florence Nightingale kept detailed records about deaths in a military hospital during the Crimean War (1854) and believed that the conditions of the hospital were partly to blame for the death of 4077 soldiers (10 times more died from disease than from their wounds). Her coxcomb graph helped show the change in mortality after a sanitation commission flushed out the sewers and improved ventilation. Also in that same time, Nightingale implemented handwashing and other hygiene practices to the hospital. The space shuttle Challenger exploded due to o-rings not sealing the rocket boosters. Engineers working on the launch warned that due to the cold weather predicted on launch day, there could be an issue. However, they presented their worries in a table of data, and their warnings were ignored. Would a scatterplot have changed the decision to fly that morning? "],
["14-week-14.html", "Chapter 14 Week 14 14.1 Critiques! 14.2 Dual Y-Axes", " Chapter 14 Week 14 14.1 Critiques! Point 1 Point 2 Point 3 Point 4 Point 5 Point 6 Point 7 Point 8 Counter point Point 9 Point 10 14.2 Dual Y-Axes In general, dual y-axes are hard to do correctly, and can be easily used maliciously. Lisa Charlotte Rost has a great example of how the arbitrary scaling of each axis results can result in unintentionally confusing graphs. "],
["15-tableau-toolbox.html", "Chapter 15 Tableau Toolbox 15.1 Wrangling 15.2 Graphing", " Chapter 15 Tableau Toolbox 15.1 Wrangling The process of manipulating the data into a nice format that is suitable for displaying is challenging. This section discuss issues that arise here. 15.1.1 Importing data 15.1.1.1 From text files Issues to be addressed 1. Separator character 2. Header present or not 3. Quotation marks 4. Missing values 15.1.2 Column Types 1. Character strings 2. Numerical 3. Geographical 4. Dates 15.1.3 New Column via Calculation 15.1.4 Quick Column Cleaning 15.1.5 Column Splitting 15.1.6 Filtering 15.1.7 Aggregation 15.1.8 Table Joins 15.1.9 Table Unions 15.1.10 Table Pivots 15.1.11 Grouped Calculations 15.2 Graphing Once the data is formatted nicely, how do we actually graph it. 15.2.1 Dimensions and Measures 15.2.2 Assigning variables to axes 15.2.3 Mark Types 15.2.4 Bar Charts 15.2.5 Line charts 15.2.6 Maps "]
]
